name: Cool
on:
  workflow_dispatch:
    inputs:
      target:
        type: choice
        required: true
        options:
          - dev
          - stg
          - prod
      countries:
        type: string
        required: false

jobs:
  show-input:
    runs-on: ubuntu-latest
    timeout-minutes: 3
    strategy:
      matrix:
        country: ${{fromJson(inputs.countries && format('["{0}"]', inputs.countries) || '["jp", "gb", "us"]')}}
    steps:
      - name: Echo Input
        run: echo $INPUT | jq
        env:
          INPUT: ${{toJson(inputs)}}
